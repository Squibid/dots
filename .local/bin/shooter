#!/bin/sh
outputDir=$HOME/Pictures/screenshots/
outputStyle=$outputDir"$(date +'%F-%I:%M:%S%P.png')"
mkdir -p $outputDir

case "$(printf "screenshot with grim\nğŸ“¸ active window\nğŸ“ area select\nğŸ“– all screens\nğŸ–¥ï¸ select a screen" | kickoff --from-stdin --stdout)" in
  "ğŸ“¸ active window") 
    maim -uf png -i "$(xdotool getactivewindow)" $outputStyle 
    notify-send -i $outputStyle "Saved as:" $outputStyle
    ;;
  "ğŸ“ area select") 
    grim -g "$(slurp -d -b '#131313aa' -c '#ffffffff')" -t png $outputStyle
    wl-copy < $outputStyle
    notify-send -i $outputStyle "Saved as:" $outputStyle
    ;;
  "ğŸ“– all screens") 
    grim -t png $outputStyle
    wl-copy < $outputStyle
    notify-send -i $outputStyle "Saved as:" $outputStyle
    ;;
  "ğŸ–¥ï¸ select a screen")
    grim -g "$(slurp -o)" -t png $outputStyle
    wl-copy < $outputStyle
    notify-send -i $outputStyle "Saved as:" $outputStyle
    ;;
esac
